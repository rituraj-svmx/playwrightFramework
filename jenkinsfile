pipeline {
  agent any
  parameters {
    choice(name: 'TestCasesGroup', choices: ['Regression','web'], description: 'npm script to run')
  }
  stages {
    stage('Install'){ steps { bat 'npm ci' ; bat 'npx playwright install' } }
    stage('Test'){ steps { bat "npm run %TestCasesGroup%" } }
  }
 post {
  always {
    allure results: [[path: 'allure-results']]
  }
}
}